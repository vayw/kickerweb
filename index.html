<!DOCTYPE html>
<html>
    <meta charset="UTF-8">
    <head>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue-select@3.0.0"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vue-select@3.0.0/dist/vue-select.css">
        <script src="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3"></script>
        <link href="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3/dist/vue-loading.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
        <link rel="stylesheet" href="kick.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <div class="container" id="app">
            <template v-if="matchid != 0">
                <div class="one-col">
                    <loading :active.sync="ApiCallInProgress"
                    :can-cancel="false"
                    ></loading>
                    <div class="one-col">
                        <button @click="endMatch()" class="large-button topgap">Finish Match</button>
                    </div>
                    <div class="scoreboard">{{ score.red }}</div>
                    <div class="scoreboard">:</div>
                    <div class="scoreboard">{{ score.blue}}</div>
                </div>
                <div class="two-col">
                    <div class="col-left red">
                        <button @click="Score('reddef')" class="large-button-f red">{{ reddef.label }}</button>
                    </div>
                    <div class="col-right blue">
                        <button @click="Score('bluedef')" class="large-button-f blue">{{ bluedef.label }}</button>
                    </div>
                </div>
                <div class="two-col">
                    <div class="col-left red">
                        <button @click="Score('redfor')" class="large-button-f red">{{ redfor.label }}</button>
                    </div>
                    <div class="col-right blue">
                        <button @click="Score('bluefor')" class="large-button-f blue">{{ bluefor.label }}</button>
                    </div>
                </div>
                <div class="one-col topgap">
                    <p class="topgap">{{ Message }}</p>
                </div>

            </template>
            <template v-else>
                <div class="columns is-mobile">
                    <div class="column is-full">
                        <button :disabled="matchReady()" @click="startMatch()" class="button is-fullwidth">Start Match</button>
                    </div>
                </div>
                <div class="columns is-mobile has-background-danger">
                    <div class="column is-full">
                        <v-select :options="selectList" v-model="reddef" placeholder="Defender" />
                    </div>
                </div>
                <div class="columns is-mobile has-background-danger">
                    <div class="column is-full">
                        <v-select :options="selectList" v-model="redfor" placeholder="Forward" />
                    </div>
                </div>
                <div class="columns is-mobile has-background-info">
                    <div class="column">
                        <v-select :options="selectList" v-model="bluedef" placeholder="Defender" />
                    </div>
                </div>
                <div class="columns is-mobile has-background-info">
                    <div class="column">
                        <v-select :options="selectList" v-model="bluefor" placeholder="Forward" />
                    </div>
                </div>
                <div class="columns is-mobile">
                    <div class="column">
                        <p class="topgap">{{ Message }}</p>
                    </div>
                </div>
            </template>

            <!-- Last matches -->
            <div class="columns">
                <div>LAST MATCHES:</div>
                <template v-for="item in this.last_matches">
                    <div class="c_align">
                        <div class="scoreboard results_l red">{{ item.red.score }}</div>
                        <div class="scoreboard results_c">:</div>
                        <div class="scoreboard results_r blue">{{ item.blue.score }}</div>
                    </div class="c_align">
                    <div>
                        <div class="scoreboard results_l">{{ players[item.red.Defender] }}</div>
                        <div class="scoreboard results_c"><img class="icon" src="/static/goal_icon.svg" /></div>
                        <div class="scoreboard results_r">{{ players[item.blue.Defender] }}</div>
                    </div class="c_align">
                    <div>
                        <div class="scoreboard results_l">{{ players[item.red.Forward] }}</div>
                        <div class="scoreboard results_c"><img class="icon" src="/static/forward_icon.svg" /></div>
                        <div class="scoreboard results_r">{{ players[item.blue.Forward] }}</div>
                    </div>
                    <div class="c_align">-----------</div>
                </template>
            </div>

        </div>
        <script src="index.js"></script>

        <!-- credits -->
        <div id="Footer">Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
    </body>
</html>
